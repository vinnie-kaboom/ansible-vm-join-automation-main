# Kerberos Configuration Template for Domain Join
# Generated by Ansible for domain: {{ domain_name }}
# DO NOT include directories to avoid permission issues with adcli

[libdefaults]
    default_realm = {{ domain_name | upper }}
    dns_lookup_realm = true
    dns_lookup_kdc = true
    ticket_lifetime = 24h
    renew_lifetime = 7d
    forwardable = true
    rdns = false
    pkinit_anchors = FILE:/etc/pki/tls/certs/ca-bundle.crt
    default_ccache_name = KEYRING:persistent:%{uid}

[realms]
    {{ domain_name | upper }} = {
        kdc = {{ domain_name }}
        admin_server = {{ domain_name }}
        default_domain = {{ domain_name }}
    }

[domain_realm]
    .{{ domain_name }} = {{ domain_name | upper }}
    {{ domain_name }} = {{ domain_name | upper }}

[logging]
    default = FILE:/var/log/krb5libs.log
    kdc = FILE:/var/log/krb5kdc.log
    admin_server = FILE:/var/log/kadmind.log
